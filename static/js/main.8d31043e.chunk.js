(this.webpackJsonpbrownbanana=this.webpackJsonpbrownbanana||[]).push([[0],{152:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},228:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},307:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var s,i,a=n(0),r=n.n(a),c=n(22),l=n.n(c),o=(n(220),n(40)),j=n.n(o),u=n(60),d=n(117),h={apiKey:"AIzaSyCRZFMkrCZuWnBKnMQ5liOe2iHZB_a5WpI",authDomain:"bb-hairshop.firebaseapp.com",databaseURL:"https://bb-hairshop-default-rtdb.firebaseio.com",projectId:"bb-hairshop",storageBucket:"bb-hairshop.appspot.com",messagingSenderId:"633835954813",appId:"1:633835954813:web:86efdcc5a4157b97dd8714",measurementId:"G-35M5T5ZLHH"},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.ref("/"+e)};function p(e){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(j.a.mark((function e(t){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ref().child("images/"+t.name).put(t.originFileObj);case 2:return n=e.sent,e.next=5,n.ref.getDownloadURL();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=n(11),y=n(12),O=n(15),x=n(14),v=n(404),g=n(407),k=n(70),C=n(393),w=function e(t,n){Object(f.a)(this,e),this.key=t,this.name=n.name,this.salon=n.salon,this.intro=n.intro,this.profile_img_url=n.profile_img_url,this.style_keys="style_keys"in n?n.style_keys:[],this.review_keys="review_keys"in n?n.review_keys:[],this.menu_keys="menu_keys"in n?n.menu_keys:[],this.created_at=new Date(n.created_at)},_=(n(152),n.p+"static/media/bbhairshop_logo_white.647003ec.png"),S=n(71),N=n(411),T=n(398),U=n(402),B=n(25),E=n(405),I=n(401),F=n(394),P=n(395),M=n(396),D=n(403),L=n(215),R=n(3);function z(e){return new Promise((function(t,n){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return t(s.result)},s.onerror=function(e){return n(e)}}))}var A=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s,i;return Object(f.a)(this,n),(i=t.call(this,e)).handleCancel=function(){return i.setState({previewVisible:!1})},i.handlePreview=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,z(t.originFileObj);case 3:t.preview=e.sent;case 4:i.setState({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleChange=function(e){var t=e.fileList;i.props.onFilelistChange(t)},i.beforeUpload=function(e){var t=i.props.filelist.concat([e]);return i.props.onFilelistChange(t),!1},i.handleUpload=function(){console.log(i.props.filelist)},i.maxImages=null!==(s=e.max)&&void 0!==s?s:1,i.state={previewVisible:!1,previewImage:"",previewTitle:""},i}return Object(y.a)(n,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,n=e.previewImage,s=e.previewTitle,i=Object(R.jsxs)("div",{children:[Object(R.jsx)(L.a,{}),Object(R.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(M.a,{listType:"picture-card",fileList:this.props.filelist,onPreview:this.handlePreview,onChange:this.handleChange,beforeUpload:this.beforeUpload,visible:!t,children:this.props.filelist.length>=this.maxImages?null:i}),Object(R.jsx)(D.a,{visible:t,title:s,footer:null,onCancel:this.handleCancel,children:Object(R.jsx)("img",{alt:"example",style:{width:"100%"},src:n})})]})}}]),n}(r.a.Component),H=v.a.Content,K=E.a.TextArea,q=I.a.Title,V=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).enterSaving=function(){s.setState({saving:!0})},s.stylistName=e.name,s.state={name:"",price:0,timeTaken:0,description:"",filelist:[],saving:!1},s.handleFilelistChange=s.handleFilelistChange.bind(Object(B.a)(s)),s.onUpdateName=s.onUpdateName.bind(Object(B.a)(s)),s.onUpdatePrice=s.onUpdatePrice.bind(Object(B.a)(s)),s.onUpdateTimeTaken=s.onUpdateTimeTaken.bind(Object(B.a)(s)),s.onUpdateDescription=s.onUpdateDescription.bind(Object(B.a)(s)),s.onClickSave=s.onClickSave.bind(Object(B.a)(s)),s}return Object(y.a)(n,[{key:"handleFilelistChange",value:function(e){this.setState({filelist:e})}},{key:"onUpdateName",value:function(e){this.setState({name:e})}},{key:"onUpdatePrice",value:function(e){this.setState({price:e})}},{key:"onUpdateTimeTaken",value:function(e){this.setState({timeTaken:e})}},{key:"onUpdateDescription",value:function(e){this.setState({description:e})}},{key:"onClickSave",value:function(){var e=this;this.enterSaving();var t=this.stylistName;!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0;if(t.length>0){var i=t[0];p(i).then((function(i){n.push(i),e(t.slice(1),n,s)}))}else s(n)}(this.state.filelist,[],(function(n){var s,i,a,r=function(e){var t=b("menus").push();return t.set(e),t.key}({name:e.state.name,price:e.state.price,description:e.state.description,image_url:n[0],time_comsumed_mins:e.state.timeTaken}),c=function(e,t){var n=b("styles");return t.map((function(t){var s=n.push();return s.set({image_url:t,menu_key:e}),s.key}))}(r,n);s=r,i=c,a=function(n){n?alert("update db failed"):(e.setState({saving:!1}),e.onClickCancel(t))},b("stylists").orderByChild("name").equalTo(t).limitToFirst(1).once("child_added",(function(e){var t,n;if(e.exists()){var r=(null!==(t=e.val().menu_keys)&&void 0!==t?t:[]).concat([s]),c=(null!==(n=e.val().style_keys)&&void 0!==n?n:[]).concat(i);e.ref.update({menu_keys:r,style_keys:c},a)}else alert("No record in DB for profile")}))}))}},{key:"onClickCancel",value:function(e){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e})}),document.getElementById("root"))}},{key:"render",value:function(){var e,t=this;return e=Object(R.jsx)(_e,{name:this.stylistName}),Object(R.jsxs)(v.a,{className:"layout",children:[e,Object(R.jsxs)(H,{style:{paddingLeft:"20%",paddingRight:"20%",paddingTop:"20px",paddingBottom:"20px"},children:[Object(R.jsx)(q,{level:1,children:"Enter a new menu"}),Object(R.jsx)(C.a,{orientation:"left",children:"Details"}),Object(R.jsxs)(F.a,{children:[Object(R.jsx)(P.a,{flex:"250px",children:Object(R.jsx)(q,{level:4,children:"Style Name"})}),Object(R.jsx)(P.a,{flex:"auto",children:Object(R.jsx)(E.a,{size:"large",placeholder:"Style name",onChange:function(e){t.onUpdateName(e.target.value)}})})]}),Object(R.jsxs)(F.a,{children:[Object(R.jsx)(P.a,{flex:"250px",children:Object(R.jsx)(q,{level:4,children:"Price"})}),Object(R.jsx)(P.a,{flex:"auto",children:Object(R.jsx)(E.a,{size:"large",type:"number",prefix:"\u20a9",placeholder:"Price",onChange:function(e){t.onUpdatePrice(e.target.valueAsNumber)}})})]}),Object(R.jsxs)(F.a,{children:[Object(R.jsx)(P.a,{flex:"250px",children:Object(R.jsx)(q,{level:4,children:"Time consumed"})}),Object(R.jsx)(P.a,{flex:"auto",children:Object(R.jsx)(E.a,{size:"large",type:"number",placeholder:"Time consumed (minutes)",onChange:function(e){t.onUpdateTimeTaken(e.target.valueAsNumber)}})})]}),Object(R.jsxs)(F.a,{children:[Object(R.jsx)(P.a,{flex:"250px",children:Object(R.jsx)(q,{level:4,children:"Information"})}),Object(R.jsx)(P.a,{flex:"auto",children:Object(R.jsx)(K,{rows:3,onChange:function(e){t.onUpdateDescription(e.target.value)}})})]}),Object(R.jsx)(C.a,{orientation:"left",children:"Images"}),Object(R.jsx)(A,{max:4,filelist:this.state.filelist,onFilelistChange:this.handleFilelistChange}),Object(R.jsxs)(F.a,{justify:"end",children:[Object(R.jsx)(k.a,{type:"primary",loading:this.state.saving,onClick:this.onClickSave,children:"Save"}),Object(R.jsx)(k.a,{onClick:function(){t.onClickCancel(t.stylistName)},children:"Cancel"})]})]})]})}}]),n}(r.a.Component),W=n(397),Z=n(399),Y=n(409),J=n(410),G=(n(228),I.a.Title),Q=I.a.Text,$=function(e){var t=e.icon,n=e.text;return Object(R.jsxs)(g.b,{children:[r.a.createElement(t),n]})},X=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return Object(R.jsxs)(F.a,{className:"menu-box",children:[Object(R.jsx)(P.a,{span:18,children:Object(R.jsxs)(g.b,{direction:"vertical",className:"menu-contents",children:[Object(R.jsx)(G,{level:5,strong:!0,children:this.props.name}),Object(R.jsxs)(Q,{type:"secondary",children:["$",this.props.price]}),Object(R.jsx)(Q,{type:"secondary",children:this.props.description}),Object(R.jsxs)(g.b,{direction:"horizontal",children:[Object(R.jsx)($,{icon:Y.a,text:this.props.time}),Object(R.jsx)(C.a,{type:"vertical"}),Object(R.jsx)($,{icon:J.a,text:this.props.rating})]})]})}),Object(R.jsx)(P.a,{span:2}),Object(R.jsx)(P.a,{span:4,children:Object(R.jsx)(Z.a,{className:"menu-image",src:this.props.image})})]})}}]),n}(r.a.Component),ee=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).state={menus:[]},s}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=[],t=this;this.props.menukeys.forEach((function(n){b("menus").orderByKey().equalTo(n).limitToFirst(1).once("value").then((function(n){n.exists()?n.forEach((function(n,s){var i=n.val();e.push(i),t.setState({menus:e})})):alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){return Object(R.jsx)(W.b,{dataSource:this.state.menus,renderItem:function(e){return Object(R.jsx)(X,{name:e.name,price:e.price,description:e.description,time:e.time_comsumed_mins+"min",image:e.image_url,rating:"3.3"})}})}}]),n}(r.a.Component),te=n(406),ne=(n(170),I.a.Text),se=v.a.Content,ie=E.a.TextArea,ae=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).stylist=e.stylist,s.imageList=""!==s.stylist.profile_img_url?[{uid:"-1",name:"image.png",status:"done",url:s.stylist.profile_img_url}]:[],s.state={intro:s.stylist.intro,name:s.stylist.name,salon:s.stylist.salon,profile_img_urls:s.imageList,img_changed:!1},s.handleFilelistChange=s.handleFilelistChange.bind(Object(B.a)(s)),s.onUpdateName=s.onUpdateName.bind(Object(B.a)(s)),s.onUpdatesalon=s.onUpdatesalon.bind(Object(B.a)(s)),s.onUpdateintro=s.onUpdateintro.bind(Object(B.a)(s)),s.clickSave=s.clickSave.bind(Object(B.a)(s)),s.componentDidMount=s.componentDidMount.bind(Object(B.a)(s)),s}return Object(y.a)(n,[{key:"handleFilelistChange",value:function(e){this.setState({profile_img_urls:e,img_changed:!0})}},{key:"onUpdateName",value:function(e){this.setState({name:e})}},{key:"onUpdatesalon",value:function(e){this.setState({salon:e})}},{key:"onUpdateintro",value:function(e){this.setState({intro:e})}},{key:"clickSave",value:function(){var e=this;this.state.img_changed?p(this.state.profile_img_urls[0]).then((function(t){b("stylists/"+e.stylist.key).set({name:e.state.name,salon:e.state.salon,intro:e.state.intro,profile_img_url:t,created_at:e.stylist.created_at,menu_keys:e.stylist.menu_keys,review_keys:e.stylist.review_keys,style_keys:e.stylist.style_keys}).then((function(t){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e.state.name})}),document.getElementById("root"))}))})):b("stylists/"+this.stylist.key).set({name:this.state.name,salon:this.state.salon,intro:this.state.intro,profile_img_url:this.stylist.profile_img_url,created_at:this.stylist.created_at,menu_keys:this.stylist.menu_keys,review_keys:this.stylist.review_keys,style_keys:this.stylist.style_keys}).then((function(t){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e.state.name})}),document.getElementById("root"))}))}},{key:"componentDidMount",value:function(){var e=this;b("stylists").orderByChild("name").equalTo(this.stylist.name).limitToFirst(1).once("value").then((function(t){if(t.exists()){var n=e;t.forEach((function(e,t){var s=e.val(),i=new w(e.key,s);n.setState({stylist:i})}))}else alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(R.jsxs)(v.a,{className:"layout",children:[Object(R.jsx)(_e,{}),Object(R.jsx)(se,{style:{paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsxs)(F.a,{className:"createprofile-box",children:[Object(R.jsx)(P.a,{span:3}),Object(R.jsxs)(P.a,{span:5,children:[Object(R.jsx)(ne,{strong:!0,children:"Profile Image"}),Object(R.jsx)(A,{max:1,filelist:this.state.profile_img_urls,onFilelistChange:this.handleFilelistChange})]}),Object(R.jsx)(P.a,{span:3}),Object(R.jsx)(P.a,{span:12,children:Object(R.jsxs)(g.b,{direction:"vertical",className:"createprofile-contents",children:[Object(R.jsx)(ne,{strong:!0,children:"Name"}),Object(R.jsx)(E.a,{size:"large",value:this.state.name,onChange:function(t){e.onUpdateName(t.target.value)}}),Object(R.jsx)(ne,{strong:!0,children:"Current Workplace"}),Object(R.jsx)(E.a,{size:"large",value:this.state.salon,onChange:function(t){e.onUpdatesalon(t.target.value)}}),Object(R.jsx)(ne,{strong:!0,children:"About me"}),Object(R.jsx)(ie,{size:"large",value:this.state.intro,showCount:!0,maxLength:500,onChange:function(t){e.onUpdateintro(t.target.value)}}),Object(R.jsx)(k.a,{type:"primary",onClick:function(){return e.clickSave()},children:"Save"})]})})]})})]})}}]),n}(r.a.Component),re=(n(171),n(8));function ce(e){var t=e.followerCount,n="Notify updates",s=r.a.useState(!1),i=Object(re.a)(s,2),a=i[0],c=i[1],l=r.a.useState(!1),o=Object(re.a)(l,2),j=o[0],u=o[1],d=r.a.useState("Your profile updates will be sent to your ".concat(t," followers.")),h=Object(re.a)(d,2),b=h[0],p=h[1],m=r.a.useState(!1),f=Object(re.a)(m,2),y=f[0],O=f[1];return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(k.a,{type:"primary",onClick:function(){c(!0)},children:"Notify Followers"}),Object(R.jsx)(D.a,{title:n,visible:a,onOk:function(){p("Notifications are on their way..."),u(!0),setTimeout((function(){c(!1),u(!1),O(!0),p("Your profile updates will be sent to your ".concat(t," followers."))}),2e3)},confirmLoading:j,onCancel:function(){console.log("Clicked cancel button"),c(!1)},children:Object(R.jsx)("p",{children:b})}),Object(R.jsx)(D.a,{title:n,visible:y,onOk:function(){O(!1)},children:Object(R.jsx)("p",{children:"Notification Sent!"})})]})}var le=v.a.Content,oe=I.a.Paragraph,je=I.a.Text,ue=I.a.Title,de=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).state={name:e.stylist.name,image:e.stylist.profile_img_url,location:e.stylist.salon,reviews:e.stylist.review_keys,followerCount:42,information:e.stylist.intro},s.onClickEditProfile=s.onClickEditProfile.bind(Object(B.a)(s)),s}return Object(y.a)(n,[{key:"getRating",value:function(){return 4.58}},{key:"onClickEditProfile",value:function(){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ae,{stylist:this.props.stylist})}),document.getElementById("root"))}},{key:"render",value:function(){var e=this;return Object(R.jsx)(le,{style:{paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsxs)(F.a,{wrap:!1,children:[Object(R.jsx)(P.a,{flex:"150px",children:Object(R.jsx)("div",{className:"container",children:Object(R.jsx)(te.a,{src:this.state.image,size:150})})}),Object(R.jsx)(P.a,{flex:"auto",children:Object(R.jsxs)(g.b,{className:"container",direction:"vertical",size:10,style:{height:"100%"},children:[Object(R.jsx)(ue,{children:this.state.name}),Object(R.jsx)(je,{type:"secondary",children:this.state.location}),Object(R.jsxs)("div",{children:[Object(R.jsxs)(je,{className:"spannedline",children:["Reviews ",Object(R.jsx)("b",{children:this.state.reviews.length})]}),Object(R.jsxs)(je,{className:"spannedline",children:["Followers ",Object(R.jsx)("b",{children:this.state.followerCount})]}),Object(R.jsxs)(je,{className:"spannedline",children:["Rating ",Object(R.jsx)("b",{children:this.getRating()})]})]}),Object(R.jsx)(oe,{ellipsis:{rows:3,expandable:!0},children:this.state.information}),Object(R.jsxs)(g.b,{direction:"horizontal",children:[Object(R.jsx)(k.a,{onClick:function(){e.onClickEditProfile(e.name)},children:"Edit Profile"}),Object(R.jsx)(ce,{followerCount:this.state.followerCount})]})]})})]})})}}]),n}(r.a.Component),he=n(408),be=(n(236),I.a.Text),pe=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"ratingStar",value:function(){for(var e=[],t=0;t<this.props.rating;t++)e.push(Object(R.jsx)(he.a,{}));for(var n=0;n<5-this.props.rating;n++)e.push(Object(R.jsx)(J.a,{}));return e}},{key:"render",value:function(){var e=this.props.review;return Object(R.jsxs)(g.b,{direction:"vertical",className:"review-box",children:[Object(R.jsx)(be,{strong:!0,children:e.menu}),Object(R.jsxs)(g.b,{direction:"horizontal",children:[this.ratingStar(),Object(R.jsxs)(be,{children:[e.rating,".0"]})]}),Object(R.jsx)(be,{children:e.description}),Object(R.jsxs)(g.b,{direction:"horizontal",children:[Object(R.jsxs)(be,{type:"secondary",children:[e.reviewer,"  |"]}),Object(R.jsxs)(be,{type:"secondary",children:[e.created_at," days ago"]})]})]})}}]),n}(r.a.Component),me=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).state={reviews:[],reviewkeys:e.reviewkeys},s}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=[],t=this;this.props.reviewkeys.forEach((function(n){b("reviews").orderByKey().equalTo(n).limitToFirst(1).once("value").then((function(n){n.exists()?n.forEach((function(n,s){var i=n.val();e.push(i),t.setState({reviews:e})})):alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){return Object(R.jsx)(W.b,{dataSource:this.state.reviews,renderItem:function(e){return Object(R.jsx)(pe,{review:e})}})}}]),n}(r.a.Component),fe=(n(237),function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return Object(R.jsx)("div",{id:"imagelist",children:Object(R.jsx)(Z.a,{className:"style-images",width:200,src:this.props.image_src})})}}]),n}(r.a.Component)),ye=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).state={styles:[],stylekeys:e.stylekeys},s}return Object(y.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.stylekeys!==e.stylekeys&&this.updateStyles()}},{key:"componentDidMount",value:function(){this.updateStyles()}},{key:"updateStyles",value:function(){var e=[],t=this;this.props.stylekeys.forEach((function(n){b("styles").orderByKey().equalTo(n).limitToFirst(1).once("value").then((function(n){n.exists()?n.forEach((function(n,s){var i=n.val();e.push(i),t.setState({styles:e})})):alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){return Object(R.jsx)(W.b,{grid:{gutter:16,column:4},dataSource:this.state.styles,renderItem:function(e){return Object(R.jsx)(fe,{style:e.style,description:e.description,image_src:e.image_url})}})}}]),n}(r.a.Component),Oe=v.a.Content,xe=T.a.TabPane,ve=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).name=e.name,s.state={},s}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;b("stylists").orderByChild("name").equalTo(this.name).limitToFirst(1).once("value").then((function(t){if(t.exists()){var n=e;t.forEach((function(e,t){var s=e.val(),i=new w(e.key,s);n.setState({stylist:i})}))}else alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}},{key:"onClickNewMenu",value:function(e){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(V,{name:e})}),document.getElementById("root"))}},{key:"render",value:function(){var e,t,n,s,i,a,r=this;return!!(null===(e=this.state.stylist)||void 0===e?void 0:e.name)?(t=Object(R.jsx)(_e,{name:this.state.stylist.name}),n=Object(R.jsx)(de,{stylist:this.state.stylist}),s=Object(R.jsx)(ye,{stylekeys:this.state.stylist.style_keys}),i=Object(R.jsx)(me,{reviewkeys:this.state.stylist.review_keys}),a=Object(R.jsx)(ee,{menukeys:this.state.stylist.menu_keys})):(t=Object(R.jsx)(Se,{}),n=Object(R.jsx)(U.a,{avatar:!0,paragraph:{rows:4},active:!0}),s=Object(R.jsx)(ye,{stylekeys:[]}),i=Object(R.jsx)(me,{reviewkeys:[]}),a=Object(R.jsx)(ee,{menukeys:[]})),Object(R.jsxs)(v.a,{className:"layout",children:[t,n,Object(R.jsx)(Oe,{style:{paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsxs)(T.a,{defaultActiveKey:"1",tabBarExtraContent:Object(R.jsx)(k.a,{onClick:function(){r.onClickNewMenu(r.name)},children:"Add new menu"}),children:[Object(R.jsx)(xe,{tab:"Styles",children:s},"1"),Object(R.jsx)(xe,{tab:"Reviews",children:i},"2"),Object(R.jsx)(xe,{tab:"Menu",children:a},"3")]})})]})}}]),n}(r.a.Component),ge=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).state={name:e.name,notiCount:e.notifications.length},s}return Object(y.a)(n,[{key:"renderMyProfile",value:function(e){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e})}),document.getElementById("root"))}},{key:"render",value:function(){var e=this;return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(S.a,{className:"personalmenuelem",title:"Profile",style:{color:"white"},children:Object(R.jsx)("div",{children:Object(R.jsxs)(k.a,{type:"text",onClick:function(){e.renderMyProfile(e.state.name)},children:[Object(R.jsx)(N.a,{style:{color:"white",margin:"0px 4px 0px 2px"}}),Object(R.jsx)("span",{style:{color:"white"},children:this.state.name})]})})})})}}]),n}(r.a.Component),ke=E.a.Search,Ce=(r.a.Component,v.a.Header);function we(){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(tt,{})}),document.getElementById("root"))}function _e(e){return Object(R.jsxs)(Ce,{style:{display:"flex",justifyContent:"space-between",height:"fit-content",lineHeight:"normal",paddingLeft:"20%",paddingRight:"20%"},children:[Object(R.jsx)("div",{className:"headersection",children:Object(R.jsx)(k.a,{type:"text",style:{padding:"0px",border:"0px"},onClick:we,children:Object(R.jsx)("img",{src:_,alt:"BB Hairshop",style:{height:"100%"}})})}),Object(R.jsx)("div",{className:"headersection",children:Object(R.jsx)(ge,{name:e.name,notifications:[],className:"personalnav",style:{display:"flex",alignItems:"center"}})})]})}function Se(){return Object(R.jsx)(Ce,{style:{display:"flex",justifyContent:"space-between",height:"fit-content",lineHeight:"normal",paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsx)("div",{className:"headersection",children:Object(R.jsx)(k.a,{type:"text",style:{padding:"0px",border:"0px"},onClick:we,children:Object(R.jsx)("img",{src:_,alt:"BB Hairshop",style:{height:"100%"}})})})})}var Ne=n(7),Te=n(400),Ue=function e(t,n){Object(f.a)(this,e),this.key=t,this.description=n.description,this.name=n.name,this.price=n.price,this.time_consumed_mins=n.time_consumed_mins,this.image_url=n.image_url},Be=n(412),Ee=n(102),Ie=v.a.Content,Fe=I.a.Paragraph,Pe=I.a.Text,Me=I.a.Title,De=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),s=t.call(this,e),console.log(e.stylist.profile_img_url),s.state={name:e.stylist.name,image:e.stylist.profile_img_url,location:e.stylist.salon,reviews:e.stylist.review_keys,follwerCount:42,information:e.stylist.intro},s}return Object(y.a)(n,[{key:"getRating",value:function(){return 4.58}},{key:"render",value:function(){return Object(R.jsx)(Ie,{style:{paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsxs)(F.a,{wrap:!1,children:[Object(R.jsx)(P.a,{flex:"150px",children:Object(R.jsx)("div",{className:"container",children:Object(R.jsx)(te.a,{src:this.state.image,size:150})})}),Object(R.jsx)(P.a,{flex:"auto",children:Object(R.jsxs)(g.b,{className:"container",direction:"vertical",size:10,style:{height:"100%"},children:[Object(R.jsx)(Me,{children:this.state.name}),Object(R.jsx)(Pe,{type:"secondary",children:this.state.location}),Object(R.jsxs)("div",{children:[Object(R.jsxs)(Pe,{className:"spannedline",children:["Reviews ",Object(R.jsx)("b",{children:this.state.reviews.length})]}),Object(R.jsxs)(Pe,{className:"spannedline",children:["Followers ",Object(R.jsx)("b",{children:this.state.follwerCount})]}),Object(R.jsxs)(Pe,{className:"spannedline",children:["Rating ",Object(R.jsx)("b",{children:this.getRating()})]})]}),Object(R.jsx)(Fe,{ellipsis:{rows:3,expandable:!0},children:this.state.information})]})})]})})}}]),n}(r.a.Component),Le=v.a.Content,Re=T.a.TabPane,ze=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).name=e.name,s.state={},s}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;b("stylists").orderByChild("name").equalTo(this.name).limitToFirst(1).once("value").then((function(t){if(t.exists()){var n=e;t.forEach((function(e,t){var s=e.val(),i=new w(e.key,s);n.setState({stylist:i})}))}else alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e,t,n,s,i,a;return!!(null===(e=this.state.stylist)||void 0===e?void 0:e.name)?(t=Object(R.jsx)(Se,{}),n=Object(R.jsx)(De,{stylist:this.state.stylist}),s=Object(R.jsx)(ye,{stylekeys:this.state.stylist.style_keys}),i=Object(R.jsx)(me,{reviewkeys:this.state.stylist.review_keys}),a=Object(R.jsx)(ee,{menukeys:this.state.stylist.menu_keys})):(t=Object(R.jsx)(Se,{}),n=Object(R.jsx)(U.a,{avatar:!0,paragraph:{rows:4},active:!0}),s=Object(R.jsx)(ye,{stylekeys:[]}),i=Object(R.jsx)(me,{reviewkeys:[]}),a=Object(R.jsx)(ee,{menukeys:[]})),Object(R.jsxs)(v.a,{className:"layout",children:[t,n,Object(R.jsx)(Le,{style:{paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsxs)(T.a,{defaultActiveKey:"1",children:[Object(R.jsx)(Re,{tab:"Styles",children:s},"1"),Object(R.jsx)(Re,{tab:"Reviews",children:i},"2"),Object(R.jsx)(Re,{tab:"Menu",children:a},"3")]})})]})}}]),n}(r.a.Component),Ae=(n(240),I.a.Paragraph),He=I.a.Title,Ke=I.a.Text,qe=function(e){var t=e.icon,n=e.text;return Object(R.jsxs)(g.b,{children:[r.a.createElement(t),n]})},Ve=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"onClickShowProfile",value:function(e){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ze,{name:e})}),document.getElementById("root"))}},{key:"render",value:function(){var e=this;return Object(R.jsxs)(F.a,{className:"search-list",children:[Object(R.jsx)(P.a,{span:18,children:Object(R.jsxs)(g.b,{direction:"vertical",className:"search-results",children:[Object(R.jsx)(k.a,{type:"text",onClick:function(){e.onClickShowProfile(e.props.name)},children:Object(R.jsx)(He,{level:4,strong:!0,className:"stylist-name",children:this.props.name})}),Object(R.jsxs)(g.b,{direction:"horizontal",className:"profile-infos",children:[Object(R.jsx)(qe,{icon:J.a,text:this.props.rating}),Object(R.jsx)(C.a,{type:"vertical"}),Object(R.jsx)(qe,{icon:Be.a,text:this.props.reviews}),Object(R.jsx)(C.a,{type:"vertical"}),Object(R.jsx)(qe,{icon:Ee.a,text:this.props.followers})]}),Object(R.jsx)(Ae,{ellipsis:{rows:3,expandable:!0},className:"profile-intro",children:this.props.intro}),Object(R.jsx)(Ke,{type:"secondary",className:"profile-salon",strong:!0,children:this.props.salon})]})}),Object(R.jsx)(P.a,{span:2}),Object(R.jsx)(P.a,{span:4,children:Object(R.jsx)(Z.a,{className:"profile-image",src:this.props.image})})]})}}]),n}(r.a.Component),We=(n(241),{labelCol:{span:4},wrappercol:{span:8}}),Ze=v.a.Content,Ye=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).state={stylists:[],whole_stylists:[],menus:{}},s}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;b("stylists").orderByKey().once("value").then((function(t){if(t.exists()){var n=e,s=[];t.forEach((function(e,t){var n=e.val(),i=new w(e.key,n);s.push(i)})),n.setState({stylists:s,whole_stylists:s})}else alert("No record in DB for profile")})).catch((function(e){return console.log(e)})),b("menus").orderByKey().once("value").then((function(t){if(t.exists()){var n=e,s={};t.forEach((function(e,t){var n=e.val(),i=new Ue(e.key,n);s[e.key]=i})),n.setState({menus:s})}else alert("No record in DB for menus")})).catch((function(e){return console.log(e)}))}},{key:"filterStylists",value:function(e){var t=this.state.stylists,n=document.getElementById("name_input"),s=document.getElementById("style_input"),i=document.getElementById("salon_input");if("name"===e)if(""===n.value&&""===s.value&&""===i.value)this.setState({stylists:this.state.whole_stylists});else{for(var a=[],r=0;r<t.length;r++)-1!==t[r].name.toLowerCase().indexOf(n.value.toLowerCase())&&a.push(t[r]);this.setState({stylists:a})}else if("salon"===e)if(""===n.value&&""===s.value&&""===i.value)this.setState({stylists:this.state.whole_stylists});else{for(var c=[],l=0;l<t.length;l++)-1!==t[l].salon.toLowerCase().indexOf(i.value.toLowerCase())&&c.push(t[l]);this.setState({stylists:c})}else if(""===n.value&&""===s.value&&""===i.value)this.setState({stylists:this.state.whole_stylists});else{for(var o=[],j=this.state.menus,u=0;u<t.length;u++)for(var d=t[u].menu_keys,h=0;h<d.length;h++){if(Object.keys(j).includes(d[h])&&-1!==j[d[h]].name.toLowerCase().indexOf(s.value.toLowerCase())){o.push(t[u]);break}}this.setState({stylists:o})}}},{key:"onClickSearchAgain",value:function(){document.getElementById("search_form").reset(),this.setState({stylists:this.state.whole_stylists})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)(v.a,{className:"layout",children:[Object(R.jsx)("span",{id:"header-no-profile",children:Object(R.jsx)(Se,{})}),Object(R.jsxs)(Ze,{className:"background",children:[Object(R.jsx)("div",{id:"searchFilter",children:" Filters "}),Object(R.jsxs)(Te.a,Object(Ne.a)(Object(Ne.a)({},We),{},{name:"search_form",className:"search_forms",children:[Object(R.jsx)(Te.a.Item,{name:"stylist-name",label:"Name",rules:[{message:"Enter stylist's name.."}],children:Object(R.jsx)(E.a,{id:"name_input",onKeyUp:function(){e.filterStylists("name")},placeholder:"Enter stylist's name.."})}),Object(R.jsx)(Te.a.Item,{name:"style",label:"Style",rules:[{message:"e.g.) volume magic perm"}],children:Object(R.jsx)(E.a,{id:"style_input",onKeyUp:function(){e.filterStylists("style")},placeholder:"e.g.) volume magic perm"})}),Object(R.jsx)(Te.a.Item,{name:"salon",label:"Hairshop",rules:[{message:"e.g.) Hongdae Hairshop"}],children:Object(R.jsx)(E.a,{id:"salon_input",onKeyUp:function(){e.filterStylists("salon")},placeholder:"e.g.) Hongdae Hairshop"})}),Object(R.jsx)(k.a,{type:"primary",htmlType:"submit",id:"searchagain",onClick:function(){e.onClickSearchAgain()},children:"Search Again ?"}),Object(R.jsx)("style",{children:" @import url('https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap'); "})]}))]}),Object(R.jsxs)(Ze,{className:"background",children:[Object(R.jsx)("div",{id:"searchResult",children:" Search Results "}),Object(R.jsx)(W.b,{dataSource:this.state.stylists,renderItem:function(e){return Object(R.jsx)(Ve,{name:e.name,salon:e.salon,intro:e.intro,image:e.profile_img_url,reviews:e.review_keys.length,followers:"42",rating:"4.58"})}})]})]})}}]),n}(r.a.Component),Je=(n(307),n(165)),Ge=n.n(Je),Qe=I.a.Text,$e=E.a.TextArea,Xe=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(f.a)(this,n),(s=t.call(this,e)).stylistName=e.name,s.state={intro:"",name:"",salon:"",profile_img_urls:[],menu_keys:[],style_keys:[],review_keys:[]},s.handleFilelistChange=s.handleFilelistChange.bind(Object(B.a)(s)),s.onUpdateName=s.onUpdateName.bind(Object(B.a)(s)),s.onUpdatesalon=s.onUpdatesalon.bind(Object(B.a)(s)),s.onUpdateintro=s.onUpdateintro.bind(Object(B.a)(s)),s.clickSave=s.clickSave.bind(Object(B.a)(s)),s}return Object(y.a)(n,[{key:"handleFilelistChange",value:function(e){this.setState({profile_img_urls:e})}},{key:"onUpdateName",value:function(e){this.setState({name:e})}},{key:"onUpdatesalon",value:function(e){this.setState({salon:e})}},{key:"onUpdateintro",value:function(e){this.setState({intro:e})}},{key:"clickSave",value:function(){var e=this,t=b("stylists").push();0===this.state.profile_img_urls.length?t.set({name:this.state.name,salon:this.state.salon,intro:this.state.intro,profile_img_url:""}).then((function(t){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e.state.name})}),document.getElementById("root"))})):p(this.state.profile_img_urls[0]).then((function(n){t.set({name:e.state.name,salon:e.state.salon,intro:e.state.intro,profile_img_url:n}).then((function(t){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e.state.name})}),document.getElementById("root"))}))}))}},{key:"render",value:function(){var e=this;return Object(R.jsxs)(Ge.a,{className:"layout",children:[Object(R.jsx)(Se,{}),Object(R.jsx)(Je.Content,{style:{paddingLeft:"20%",paddingRight:"20%"},children:Object(R.jsxs)(F.a,{className:"createprofile-box",children:[Object(R.jsx)(P.a,{span:3}),Object(R.jsx)(P.a,{span:5,children:Object(R.jsxs)(g.b,{direction:"vertical",className:"createprofile-contents",children:[Object(R.jsx)(Qe,{strong:!0,children:"Profile Image"}),Object(R.jsx)(A,{filelist:this.state.profile_img_urls,onFilelistChange:this.handleFilelistChange})]})}),Object(R.jsx)(P.a,{span:3}),Object(R.jsx)(P.a,{span:12,children:Object(R.jsxs)(g.b,{direction:"vertical",className:"createprofile-contents",children:[Object(R.jsx)(Qe,{strong:!0,children:"Name"}),Object(R.jsx)(E.a,{size:"large",placeholder:"Your name",onChange:function(t){console.log(t),e.onUpdateName(t.target.value)}}),Object(R.jsx)(Qe,{strong:!0,children:"Current Workplace"}),Object(R.jsx)(E.a,{size:"large",placeholder:"e.g) KAIST Hairshop",onChange:function(t){console.log(t),e.onUpdatesalon(t.target.value)}}),Object(R.jsx)(Qe,{strong:!0,children:"About me"}),Object(R.jsx)($e,{size:"large",showCount:!0,maxLength:500,onChange:function(t){console.log(t),e.onUpdateintro(t.target.value)}}),Object(R.jsx)(k.a,{type:"primary",onClick:function(){return e.clickSave()},children:"Save"})]})})]})})]})}}]),n}(r.a.Component),et=v.a.Content,tt=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).state={stylists:[]},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;b("stylists").orderByChild("name").limitToFirst(5).once("value").then((function(t){if(t.exists()){var n=[];t.forEach((function(e,t){var s=new w(e.key,e.val());n.push(s.name)})),e.setState({stylists:n})}else alert("No record in DB for profile")})).catch((function(e){return console.log(e)}))}},{key:"onClickExistingProfile",value:function(e){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(ve,{name:e})}),document.getElementById("root"))}},{key:"onClickSearchProfile",value:function(){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(Ye,{})}),document.getElementById("root"))}},{key:"onClickCreateProfile",value:function(){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(Xe,{})}),document.getElementById("root"))}},{key:"onClickEditProfile",value:function(){l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(Xe,{})}),document.getElementById("root"))}},{key:"render",value:function(){var e=this;return Object(R.jsxs)(v.a,{className:"layout",children:[Object(R.jsx)(Se,{className:"background"}),Object(R.jsx)(et,{className:"background",style:{paddingTop:"10%",paddingBottom:"10%"},children:Object(R.jsxs)(g.b,{direction:"vertical",align:"center",size:20,style:{width:"100%"},children:[Object(R.jsx)(k.a,{className:"navbutton",type:"primary",block:!0,onClick:this.onClickSearchProfile,children:"Search for stylist"}),Object(R.jsx)(C.a,{}),Object(R.jsx)(k.a,{className:"navbutton",type:"default",block:!0,onClick:this.onClickCreateProfile,children:"Create new profile"}),Object(R.jsx)(C.a,{}),this.state.stylists.map((function(t){return Object(R.jsxs)(k.a,{className:"navbutton",block:!0,onClick:function(){e.onClickExistingProfile(t)},children:["Log in as existing stylist ",t]},t)}))]})})]})}}]),n}(r.a.Component),nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,413)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),a(e),r(e)}))};n(390);d.a.apps.length||d.a.initializeApp(h),s=d.a.database(),i=d.a.storage(),l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(tt,{})}),document.getElementById("root")),nt()}},[[391,1,2]]]);
//# sourceMappingURL=main.8d31043e.chunk.js.map